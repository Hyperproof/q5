<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg" href="/img/logo-0.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Fusebit</title>

    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <meta name="viewport" content="width=device-width" />

    <style>
      html {
        width: 100%;
        height: 100%;
      }
      body {
        min-height: 100%;
        background: lightgrey;
      }
    </style>
  </head>
  <body>
    <div
      id="editor"
      style="width:800px;height:500px;margin-top:20px;margin-bottom:30px;margin-left:auto;margin-right:auto;"
    ></div>
  </body>

  <!-- <script src="https://cdn.fusebit.io/fusebit/js/fusebit-editor/latest/fusebit-editor.min.js"></script> -->
  <script
    src="/js/<%- process.env.NODE_ENV === 'production' ? 'fusebit-editor.min.js' : 'fusebit-editor.js' %>"
    type="text/javascript"
  ></script>
  <script type="text/javascript">
    // $(function() {
    fusebit
      .createEditor(
        document.getElementById('editor'),
        '<%- process.env.BOUNDARY || "myboundary" %>',
        '<%- process.env.FUNCTION || "myfunction20" %>',
        {
          accountId: '<%- process.env.ACCOUNT || "acc-9d9341ea356841ed" %>',
          subscriptionId: '<%- process.env.SUBSCRIPTION || "sub-ed9d9341ea356841" %>',
          baseUrl: '<%- process.env.SERVER || "https://stage.us-west-2.fusebit.io" %>',
          accessToken: '<%- process.env.KEY %>',
        },
        {
          template: {},
          editor: {
            theme: 'dark',
            // actionPanel: false,
            // editorPanel: false,
            navigationPanel: {
              // hideFiles: ['index.js', 'handler.js', 'app.js', 'package.json'],
              // hideScheduleSettings: true,
            },
            // statusPanel: false,
          },
        }
      )
      .then(editorContext => {
        //...
        // editorContext.selectFile('hello.ejs');
      });
    // });
  </script>
</html>
